<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Boundary Condition Mode" href="boundarycondition.html" /><link rel="prev" title="Interface" href="interface.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2024.08.06 -->
        <title>Interface Solver - saenopy 1.0.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=04c057b233f3c8d71940eee6080f658a04e2027d" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=cf727022eb7470bc603c08d2e55c3247faec75c9" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">saenopy 1.0.6 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">saenopy 1.0.6 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="interface.html">Interface</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Interface</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Interface Solver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="boundarycondition.html">Boundary Condition Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="regularization.html">Regularization Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh.html">Mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="material.html">Material</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="auto_examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/1_SingleCellTFM.html">Classic TFM (liver fibroblasts)</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/2_DynamicalSingleCellTFM.html">Dynamic TFM (immune cells)</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/3_BeadMeasurement.html">Microbeads to Detect Matrix Deformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/4_OrganoidTFM.html">Multicellular TFM (intestinal organoids)</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/6_BrightfieldTFM.html">Brightfield TFM &amp; Cropped Input</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ReadInData.html">Read Files with Pyhton</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/interface_solver.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="interface-solver">
<h1>Interface Solver<a class="headerlink" href="#interface-solver" title="Permalink to this heading">¶</a></h1>
<figure class="align-default">
<img alt="_images/Interface_solver_main.png" src="_images/Interface_solver_main.png" />
</figure>
<p>The Solver part has an interface with three parts. On the left side all the current loaded files are shown.
New files can be added here. The central part shows the visualisations of the different evaluation steps. The right
panel shows the parameters the different evaluation steps.</p>
<section id="adding-measurements">
<h2>Adding Measurements<a class="headerlink" href="#adding-measurements" title="Permalink to this heading">¶</a></h2>
<figure class="align-default">
<img alt="_images/Interface_solver_load.png" src="_images/Interface_solver_load.png" />
</figure>
<p>The left panel shows the loaded measurements. You can drag saenopy files here to load them directly or click on
<cite>add measurement</cite> to open a dialog to select measurements.</p>
<section id="loading-a-new-measurement">
<h3>Loading a New Measurement<a class="headerlink" href="#loading-a-new-measurement" title="Permalink to this heading">¶</a></h3>
<p>A measurement consists of one or more image stacks where cells are deforming the fibre matrix and a reference state.
The reference state can either be a single image stack showing a force-free time point (e.g. at the beginning before the
matrix has been deformed, or a drug induced relaxation) or if no force-free image stack is available the deformations
can be calculated between subsequent time steps of a recording (with the option to later subtract the median deformation).</p>
<p>If a reference stack is available it should be provided on the left side. On the right side either a single stack or a
time series of stacks can be specified. If there is only a single stack given then a reference stack is strictly required,
else it is optional to provide one.</p>
<p>When loading a stack, select one .tif file of the stack. Saenopy finds all numbers in the filename and treats them as
different properties. It uses text in front of each number as the name of this property. If a property refers to one of
different recording positions which should all be evaluated (batch evaluation) the tick box “all” can be used. Batch
placeholders will be denoted with * in the filename text field below.
You have to specify which property represents the z direction (“{z}” placeholder).
Optionally a property can be defined that represents different channels to load (“{c}” placeholder). Only the current
channel will be used for the evaluation. The other channels are just for visualisation purpose.
Optionally a property indication the time point can be specified (“{t}” placeholder) if the stack is part of a time
series.</p>
</section>
<section id="loading-an-existing-measurement">
<h3>Loading an Existing Measurement<a class="headerlink" href="#loading-an-existing-measurement" title="Permalink to this heading">¶</a></h3>
<p>Here an existing saenopy file can be loaded.</p>
</section>
<section id="loading-an-example-measurement">
<h3>Loading an Example Measurement<a class="headerlink" href="#loading-an-example-measurement" title="Permalink to this heading">¶</a></h3>
<p>This tab provided example files that can be downloaded to showcase and test various applications of saenopy. Files will
be downloaded to a user directory and directly opened in saenopy.</p>
</section>
</section>
<section id="detect-deformations">
<h2>Detect Deformations<a class="headerlink" href="#detect-deformations" title="Permalink to this heading">¶</a></h2>
<section id="piv-element-size">
<h3>piv element size<a class="headerlink" href="#piv-element-size" title="Permalink to this heading">¶</a></h3>
<p>The size of the mesh used by the Particle Image Velocimetry (PIV) algorithm.
The algorithm searches for deformations at points
<cite>piv_element_size</cite> μm apart.</p>
<p>Smaller element sizes result in longer run times for the piv step.
To reduce information loss
when interpolating to a new mesh, it may be advantageous to use the same mesh size as the final mesh or an integer multiple of it.</p>
<figure class="align-default">
<img alt="_images/piv_mesh_size.png" src="_images/piv_mesh_size.png" />
</figure>
</section>
<section id="window-size">
<h3>window size<a class="headerlink" href="#window-size" title="Permalink to this heading">¶</a></h3>
<p>The size of the search window for the piv algorithm.
A rectangle with a width of <cite>search_window</cite> μm around each node in the target image is searched
in the reference image. The resulting offset is the measured deformation.</p>
<p>Larger search windows result in longer run times for the piv step.
An appropriate window size should be chosen that is large enough to capture the
magnitude of the deformations (~4 larger than the largest deformation magnitude)
but not overly large to smear the deformation field and reduce the spatial resolution.
For an increased spatial resolution it is often helpful to have a reasonable
overlap between adjacent windows (e.g. 50% by using windowsize = 2 * elementsize).</p>
<figure class="align-default">
<img alt="_images/window_size.png" src="_images/window_size.png" />
</figure>
</section>
<section id="signoise">
<h3>signoise<a class="headerlink" href="#signoise" title="Permalink to this heading">¶</a></h3>
<p>The signal to noise ratio threshold. Points with higher noise are set to “nan” (not a number). Nan values are nodes where
no deformation has been found and are therefore not constrained when fitting deformations.
Default is 1.3, that replaces deformations with a signal-to-noise ratio &lt; 1.3 with “nan”.</p>
</section>
<section id="driftcorrection">
<h3>driftcorrection<a class="headerlink" href="#driftcorrection" title="Permalink to this heading">¶</a></h3>
<p>Whether to apply a drift correction by subtracting the median deformation from the found deformations. This is useful if
the target stack has a global shift with respect to the reference stack.</p>
</section>
</section>
<section id="create-finite-element-mesh">
<h2>Create Finite Element Mesh<a class="headerlink" href="#create-finite-element-mesh" title="Permalink to this heading">¶</a></h2>
<section id="reference-stack">
<h3>reference stack<a class="headerlink" href="#reference-stack" title="Permalink to this heading">¶</a></h3>
<p>This parameter can have values depending on the type of experiment. If the experiment has a
specified reference stack (with the relaxed cell) the appropriate option will be:</p>
<blockquote>
<div><ul class="simple">
<li><p>reference stack</p></li>
</ul>
</div></blockquote>
<p>If the measurement is a time series, it is also possible to set a single time point as the reference state
(e.g. after cell seeding or relaxation) using the “reference stack” option. Further options are to calculate the
deformations and forces beetween consecutive stacks at each time step (“next”), or to locally accumulate the
deformations over time at each voxel and calculate the cumulated forces at each time step (“cumul.”). Furthermore, if
the matrix is in an undeformed state for most of the time (e.g. moving cells imaged over a long periods of time),
the median state over subsequent stacks can be calculated and used as a reference stack (“median”).</p>
<blockquote>
<div><ul class="simple">
<li><p>reference stack</p></li>
<li><p>next</p></li>
<li><p>median</p></li>
<li><p>cumul.</p></li>
</ul>
</div></blockquote>
</section>
<section id="mesh-element-size">
<h3>mesh element size<a class="headerlink" href="#mesh-element-size" title="Permalink to this heading">¶</a></h3>
<p>The element size for the mesh to which the mesh from the PIV step will be interpolated.
Smaller element sizes will produce a finer mesh, which will capture more detail of the deformation field, but will take longer to
calculate in the Fit Forces step. To reduce the loss of information when interpolating to a new mesh, it may
be beneficial to use the same mesh size as the final mesh or an integral multiple of it.</p>
<figure class="align-default">
<img alt="_images/mesh_size.png" src="_images/mesh_size.png" />
</figure>
</section>
<section id="mesh-size-same">
<h3>mesh size same<a class="headerlink" href="#mesh-size-same" title="Permalink to this heading">¶</a></h3>
<p>Whether to use the same mesh size as the piv mesh. If unchecked, a custom mesh size can be specified. Smaller mesh sizes
then the PIV mesh would cut off information. Larger mesh sizes can be good if the piv mesh is very small and the spatial decay of the
and the spatial decay of the deformation field is not well captured. Larger mesh sizes can lead to more accurate force
reconstructions.</p>
<figure class="align-default">
<img alt="_images/mesh_total_size.png" src="_images/mesh_total_size.png" />
</figure>
</section>
</section>
<section id="fit-deformations-and-calculate-forces">
<h2>Fit Deformations and Calculate Forces<a class="headerlink" href="#fit-deformations-and-calculate-forces" title="Permalink to this heading">¶</a></h2>
<section id="material-parameters">
<h3>Material Parameters<a class="headerlink" href="#material-parameters" title="Permalink to this heading">¶</a></h3>
<p>The material parameters <span class="math notranslate nohighlight">\(k\)</span>, <span class="math notranslate nohighlight">\(d_0\)</span>, <span class="math notranslate nohighlight">\(\lambda_s\)</span>, and <span class="math notranslate nohighlight">\(d_s\)</span> are explained in the section
<a class="reference internal" href="material.html#sectionmaterial"><span class="std std-ref">Material</span></a>.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/fiber.png"><img alt="_images/fiber.png" src="_images/fiber.png" style="width: 70%;" /></a>
</figure>
</section>
<section id="regularisation-parameters">
<h3>Regularisation Parameters<a class="headerlink" href="#regularisation-parameters" title="Permalink to this heading">¶</a></h3>
</section>
<section id="alpha">
<h3>alpha<a class="headerlink" href="#alpha" title="Permalink to this heading">¶</a></h3>
<p>How much to regularise the forces.
This is the most important parameter of the regularisation step.</p>
<p>A <strong>low alpha</strong> value results in a good fit of the measured
deformations but can lead to more higher forces and thus increases the chance to obtain spurious forces that only explain
the measurement noise from measuring the displacement field.</p>
<p>A <strong>high alpha</strong> value makes the regularisation procedure focus more on obtaining small
forces then to match the measured deformation field well. This can lead to a weak force field.</p>
<figure class="align-default">
<img alt="_images/different_alphas.png" src="_images/different_alphas.png" />
</figure>
</section>
<section id="stepper">
<h3>stepper<a class="headerlink" href="#stepper" title="Permalink to this heading">¶</a></h3>
<p>The step width of one regularisation step. In case everything would be completely linear without material or geometrical
non-linearities, a stepper of 1 would result in a perfect fit within one iteration. Small stepper values increase the
number of iterations needed to find a solution.</p>
</section>
<section id="i-max">
<h3>i_max<a class="headerlink" href="#i-max" title="Permalink to this heading">¶</a></h3>
<p>The maximum number of iterations after which to stop the fitting procedure if the rel_conv_crit did not terminate the
iteration earlier.</p>
</section>
<section id="rel-conv-crit">
<h3>rel_conv_crit<a class="headerlink" href="#rel-conv-crit" title="Permalink to this heading">¶</a></h3>
<p>The relative convergence criterion. If the standard deviation of the energy of the last 6 iterations divided my the mean
does not exceed this value, the fitting procedure is considered converged and iterations are stopped.</p>
</section>
<section id="prev-t-as-start">
<h3>prev_t_as_start<a class="headerlink" href="#prev-t-as-start" title="Permalink to this heading">¶</a></h3>
<p>Optional for time lapse series: If enabled, the deformation field of the previous time step is used as the starting point
for the force reconstruction of the following time step. This can be useful for force reconstruction of spheroids and organoids
that gradually increase their force over time. Here the option can speed up the convergence process by a factor of 5-50.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="boundarycondition.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Boundary Condition Mode</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="interface.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Interface</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2019-2023, Richard Gerum, David Böhringer
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Interface Solver</a><ul>
<li><a class="reference internal" href="#adding-measurements">Adding Measurements</a><ul>
<li><a class="reference internal" href="#loading-a-new-measurement">Loading a New Measurement</a></li>
<li><a class="reference internal" href="#loading-an-existing-measurement">Loading an Existing Measurement</a></li>
<li><a class="reference internal" href="#loading-an-example-measurement">Loading an Example Measurement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detect-deformations">Detect Deformations</a><ul>
<li><a class="reference internal" href="#piv-element-size">piv element size</a></li>
<li><a class="reference internal" href="#window-size">window size</a></li>
<li><a class="reference internal" href="#signoise">signoise</a></li>
<li><a class="reference internal" href="#driftcorrection">driftcorrection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-finite-element-mesh">Create Finite Element Mesh</a><ul>
<li><a class="reference internal" href="#reference-stack">reference stack</a></li>
<li><a class="reference internal" href="#mesh-element-size">mesh element size</a></li>
<li><a class="reference internal" href="#mesh-size-same">mesh size same</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fit-deformations-and-calculate-forces">Fit Deformations and Calculate Forces</a><ul>
<li><a class="reference internal" href="#material-parameters">Material Parameters</a></li>
<li><a class="reference internal" href="#regularisation-parameters">Regularisation Parameters</a></li>
<li><a class="reference internal" href="#alpha">alpha</a></li>
<li><a class="reference internal" href="#stepper">stepper</a></li>
<li><a class="reference internal" href="#i-max">i_max</a></li>
<li><a class="reference internal" href="#rel-conv-crit">rel_conv_crit</a></li>
<li><a class="reference internal" href="#prev-t-as-start">prev_t_as_start</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/jquery.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>